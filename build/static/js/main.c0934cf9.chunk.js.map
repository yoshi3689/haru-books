{"version":3,"sources":["API/googleBook.js","actions/actionTypes.js","reducers/reducerTypes.js","API/server.js","components/history.js","actions/index.js","components/OAuth.js","components/Navigation.js","components/finder/Dropdown.js","components/finder/FiltersSetting.js","components/finder/SearchBar.js","components/finder/BookItem.js","components/finder/BookShowcase.js","components/finder/BookFinder.js","components/shelf/Bookshelf.js","Modal.js","components/BookModal.js","components/finder/BookSave.js","components/shelf/BookshelfDelete.js","components/App.js","reducers/oAuthReducers.js","reducers/filtersReducer.js","reducers/index.js","reducers/booksReducer.js","reducers/bookshelfReducer.js","reducers/pathReducer.js","reducers/styleReducers.js","index.js"],"names":["axios","create","baseURL","FETCH_BOOKS","FETCH_BOOK","CLEAR_BOOKS","SIGN_IN","SIGN_OUT","FETCH_SAVED_BOOKS","FETCH_SAVED_BOOK","SAVE_BOOK","DELETE_SAVED_BOOK","GET_PATH","GET_HEIGHT","LANG_SELECTED","FILTER_SELECTED","PRINTTYPE_SELECTED","ORDER_SELECTED","MAX_RESULT_NUM_SELECTED","LANGUAGE","ORDER","FILTER","MAX_RESULT_NUM","PRINTTYPE","port","process","PORT","savedBooks","createBrowserHistory","fetchBooks","formValues","dispatch","getState","a","values","Object","selections","googleBook","get","params","q","orderBy","value","maxResults","langRestrict","filter","printType","download","key","data","type","payload","items","fetchSavedBooks","userId","OAuth","onAuthChange","isSignedIn","props","signIn","signOut","auth","currentUser","getId","onSignInClick","onSignOutClick","window","location","replace","renderAuthButton","authConfig","text","handler","onClick","className","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","this","Component","connect","state","Navigation","getPath","pathname","onLocationChange","routeConfig","link","btnTxt","to","renderMenu","width","style","margin","prevProps","path","marginTop","marginLeft","marginRight","withRouter","Dropdown","label","options","selected","onSelectedClick","useState","isOpen","setIsOpen","ref","useRef","useEffect","onBodyClick","event","current","contains","target","document","body","addEventListener","capture","removeEventListener","renderedOptions","map","option","FiltersSetting","languages","filters","printTypes","orders","maxResultNums","language","order","maxResultNum","selectLanguage","selectFilter","selectPrintType","selectOrder","selectMaxResultNum","SearchBar","renderError","error","touched","renderInput","input","meta","onSubmit","clearBooks","term","initialValues","books","searchBar","searchBarRef","handleSubmit","Field","name","component","formWrapped","reduxForm","form","validate","errs","BookItem","imgHeight","headerHeight","setHeights","Math","ceil","imgRef","clientWidth","setState","headerRef","renderAuthors","volumeInfo","authors","authorsToShow","marginBottom","renderRetailPrice","retailPrice","saleability","paddingTop","currencyCode","amount","React","createRef","bookInfo","volumeId","id","saleInfo","src","imageLinks","thumbnail","alt","title","height","display","flexDirection","BookShowcase","cardNum","updateCardNum","innerWidth","renderResult","result","length","renderBookRows","book","BookFinder","match","url","Bookshelf","bookshelf","rootDiv","querySelector","Modal","ourModalDiv","createElement","appendChild","removeChild","ReactDOM","createPortal","e","stopPropagation","children","BookModal","renderRetailprice","renderAdmin","isSavable","includes","descRef","description","href","previewLink","BookSave","bookToCheck","alert","saveBook","fetchBook","ownProps","bookToSave","post","history","push","BookShelfDelete","fetchSavedBook","deleteSavedBook","savedBook","currentPath","delete","App","getWidth","exact","BookshelfDelete","INITIAL_STATE","optionsReducer","INITIAL_SELECTIONS","reducers","combineReducers","action","formReducer","_","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","render"],"mappings":"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","file":"static/js/main.c0934cf9.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://www.googleapis.com/books/v1'\r\n});","export const FETCH_BOOKS = 'FETCH_BOOKS';\r\nexport const FETCH_BOOK = 'FETCH_BOOK';\r\nexport const CLEAR_BOOKS = 'CLEAR_BOOKS';\r\n\r\nexport const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\n\r\nexport const FETCH_SAVED_BOOKS = 'FETCH_SAVED_BOOKS';\r\nexport const FETCH_SAVED_BOOK = 'FETCH_SAVED_BOOK';\r\nexport const SAVE_BOOK = 'SAVE_BOOK';\r\nexport const DELETE_SAVED_BOOK = 'DELETE_SAVED_BOOK';\r\n\r\nexport const FETCH_USERS = 'FETCH_USERS';\r\nexport const ADD_USER = 'ADD_USER';\r\n\r\nexport const GET_PATH = 'GET_PATH';\r\n\r\nexport const GET_HEIGHT = 'GET_HEIGHT';\r\n\r\nexport const LANG_SELECTED = 'LANG_SELECTED';\r\nexport const FILTER_SELECTED = 'FILTER_SELECTED';\r\nexport const PRINTTYPE_SELECTED = 'PRINTTYPE_SELECTED';\r\nexport const ORDER_SELECTED = 'ORDER_SELECTED';\r\nexport const MAX_RESULT_NUM_SELECTED = 'MAX_RESULT_NUM_SELECTED';","export const LANGUAGE = 'LANGUAGE';\r\nexport const ORDER = 'ORDER';\r\nexport const FILTER = 'FILTER';\r\nexport const MAX_RESULT_NUM = 'MAX_RESULT_NUM';\r\nexport const PRINTTYPE = 'PRINTTYPE';","import axios from 'axios';\r\n\r\n// the below is necessary for heroku deployment\r\nconst port = process.env.PORT || 3002;\r\n\r\nexport const savedBooks =  axios.create({\r\n    baseURL: `http://localhost:${port}/bookshelf`\r\n});\r\n\r\nexport const users =  axios.create({\r\n    baseURL: `http://localhost:${port}/users`\r\n});\r\n\r\n\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","import googleBook from '../API/googleBook';\r\n\r\nimport {\r\n    FETCH_BOOKS, FETCH_BOOK,CLEAR_BOOKS,\r\n    SIGN_IN,SIGN_OUT,\r\n    FETCH_SAVED_BOOKS, FETCH_SAVED_BOOK, SAVE_BOOK, DELETE_SAVED_BOOK,\r\n    FETCH_USERS, ADD_USER,\r\n    GET_PATH,\r\n    GET_HEIGHT,\r\n    LANG_SELECTED,\r\n    FILTER_SELECTED,\r\n    PRINTTYPE_SELECTED,\r\n    ORDER_SELECTED,\r\n    MAX_RESULT_NUM_SELECTED} from './actionTypes';\r\n\r\nimport { FILTER, LANGUAGE, MAX_RESULT_NUM, ORDER, PRINTTYPE } from '../reducers/reducerTypes';\r\n\r\nimport { savedBooks, users } from '../API/server';\r\n\r\nimport history from '../components/history';\r\n\r\nexport const fetchBooks = formValues => async (dispatch, getState) => {\r\n    const values = Object.values(getState().selections);\r\n    const { data } = await googleBook.get('/volumes?', {\r\n        params: {\r\n            q: formValues,\r\n            orderBy: values[0].value,\r\n            maxResults: values[1].value,\r\n            langRestrict: values[2].value,\r\n            filter: values[3].value,\r\n            printType: values[4].value,\r\n            download: 'epub', \r\n            key: process.env.REACT_APP_BOOKS_API_KEY\r\n            },\r\n        });\r\n    dispatch({ type: FETCH_BOOKS, payload: data.items });\r\n};\r\nexport const fetchBook = volumeId => async dispatch => {\r\n    const { data } = await googleBook.get(`/volumes/${volumeId}`);\r\n    dispatch({type: FETCH_BOOK, payload: data});\r\n}\r\nexport const clearBooks = () => {\r\n    return {\r\n        type: CLEAR_BOOKS\r\n    }\r\n}\r\n\r\nexport const fetchSavedBooks = (userId) => async(dispatch) => {\r\n    if (userId) {\r\n        const { data } = await savedBooks.get(userId);\r\n        dispatch({type: FETCH_SAVED_BOOKS, payload: data.data});\r\n    }\r\n}\r\nexport const fetchSavedBook = (volumeId, userId) => async dispatch =>{\r\n    const { data } = await savedBooks.get(`/${userId}/${volumeId}`);\r\n    if(data.data.userId === userId) {\r\n        dispatch({type: FETCH_SAVED_BOOK, payload: data.data});\r\n    } else {\r\n    }  \r\n}\r\nexport const saveBook = (bookToSave, userId) => async dispatch => {\r\n    const { data } = await savedBooks.post('', {userId, id: bookToSave.id ,saleInfo: {retailPrice: bookToSave.saleInfo.retailPrice},volumeInfo: {...bookToSave.volumeInfo}});\r\n    dispatch({type: SAVE_BOOK, payload: data});\r\n    history.push('/');\r\n    \r\n}\r\nexport const deleteSavedBook = (volumeId, userId) => async dispatch => {\r\n    await savedBooks.delete(`/${userId}/${volumeId}`);\r\n    dispatch({type: DELETE_SAVED_BOOK, payload: volumeId});\r\n    history.push(`/bookshelf/${userId}`);\r\n}\r\n\r\nexport const fetchUsers = () => async(dispatch) => {\r\n    const { data } = await users.get();\r\n    dispatch({type: FETCH_USERS, payload: data});\r\n}\r\nexport const addUser = userId => async dispatch => {\r\n    const { data } = await users.post(userId);\r\n    dispatch({type: ADD_USER, payload: data});\r\n}\r\n\r\nexport const signIn = userId => {\r\n    return {type: SIGN_IN, payload: userId};\r\n}\r\nexport const signOut = () => {\r\n    return {type: SIGN_OUT};\r\n}\r\n\r\nexport const getPath = (path) => {\r\n    return { type: GET_PATH, payload: path }\r\n}\r\n\r\nexport const getHeight = height => {\r\n    return {type: GET_HEIGHT, payload: height};\r\n};\r\n\r\nexport const selectLanguage = language => {\r\n    return { type: LANG_SELECTED, payload: { [LANGUAGE]:language} };\r\n};\r\nexport const selectFilter = filter => {\r\n    return { type: FILTER_SELECTED, payload: {[FILTER]:filter} };\r\n};\r\nexport const selectPrintType = printType => {\r\n    return { type: PRINTTYPE_SELECTED, payload: {[PRINTTYPE]:printType} };\r\n};\r\nexport const selectOrder = order => {\r\n    return {\r\n        type: ORDER_SELECTED,\r\n        payload: {[ORDER]:order}\r\n    }\r\n}\r\nexport const selectMaxResultNum = maxResultNum => {\r\n    return {\r\n        type: MAX_RESULT_NUM_SELECTED,\r\n        payload: {[MAX_RESULT_NUM]:maxResultNum}\r\n    };\r\n};\r\n","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {signIn, signOut} from '../actions/index';\r\n\r\nclass OAuth extends Component {\r\n\r\n    componentDidMount() {\r\n        window.gapi.load('client:auth2', () => {\r\n            window.gapi.client.init({\r\n                clientId: process.env.REACT_APP_OAUTH_CLIENT_ID,\r\n                scope: 'email'\r\n            }).then(() => {\r\n                this.auth = window.gapi.auth2.getAuthInstance();\r\n                this.onAuthChange(this.auth.isSignedIn.get());\r\n                this.auth.isSignedIn.listen(this.onAuthChange)\r\n            });\r\n        });\r\n    }\r\n\r\n    onAuthChange = isSignedIn => {\r\n        const {signIn, signOut} = this.props;\r\n\r\n        if(isSignedIn) {\r\n            signIn(this.auth.currentUser.get().getId());\r\n        } else {\r\n            signOut();\r\n        }\r\n    }\r\n\r\n    onSignInClick = () => {\r\n        this.auth.signIn();\r\n    }\r\n\r\n    onSignOutClick = () => {\r\n        this.auth.signOut();\r\n        window.location.replace(\"/\");\r\n    }\r\n\r\n    renderAuthButton = () => {\r\n        const {isSignedIn} = this.props;\r\n\r\n        if(isSignedIn === null) {\r\n            return null;\r\n        }\r\n        const authConfig = isSignedIn \r\n            ? {text:'sign out', handler: this.onSignOutClick} \r\n            : {text: 'sign in',handler: this.onSignInClick};\r\n        return (         \r\n            <button\r\n                onClick={authConfig.handler} \r\n                className=\"ui google plus button\">\r\n                <i className=\"google icon\"></i>\r\n                {authConfig.text}\r\n            </button>)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <>\r\n                {this.renderAuthButton()}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return{\r\n        isSignedIn: state.auth.isSignedIn,\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps, \r\n    {signIn, signOut})(OAuth);","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getPath } from '../actions/index';\r\nimport OAuth from './OAuth';\r\n\r\nclass Navigation extends Component {\r\n\r\n    componentDidMount() {\r\n        this.getPath();\r\n        this.onLocationChange();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        this.getPath();\r\n        if(prevProps.path !== window.location.pathname) {\r\n            this.onLocationChange();\r\n        }\r\n    }\r\n\r\n    getPath = () => {\r\n        this.props.getPath(window.location.pathname);\r\n    }\r\n\r\n    onLocationChange = () => {\r\n        const {isSignedIn, userId} = this.props.auth;\r\n        const routeConfig = isSignedIn && window.location.pathname === \"/\"\r\n        ? {link: `/bookshelf/${userId}`, btnTxt: 'Bookshelf'}\r\n        : {link: '/', btnTxt: 'Home'}\r\n            return(\r\n                <div className=\"item\">\r\n                    <Link to={routeConfig.link} className=\"ui button\">\r\n                        {routeConfig.btnTxt}\r\n                    </Link>\r\n                </div>      \r\n            )\r\n    }\r\n\r\n    renderMenu = () => {\r\n        return this.props.width > 767 ?  (\r\n        <>\r\n            <div className=\"item\" />\r\n            <div className=\"item\">\r\n                <OAuth />\r\n            </div>\r\n            {this.onLocationChange()}\r\n        </>\r\n        )\r\n        :(\r\n            <>\r\n            <div style={{margin: \"0 auto\"}}></div>\r\n            <div className=\"ui simple dropdown icon item\">\r\n                <i className=\"wrench icon\"></i>\r\n                <div className=\"menu\">\r\n                    <div className=\"item\">\r\n                        <OAuth />\r\n                    </div>\r\n                    {this.onLocationChange()}\r\n                </div>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"ui\">\r\n                <div className=\"ui top attached menu\">\r\n                {this.renderMenu()}\r\n                    <div className='ui container'>\r\n                        <h2 style={{marginTop: \"0.5rem\", marginLeft: \"auto\", marginRight: \"3rem\"}}>Haru Books</h2>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return{ \r\n        auth: state.auth,\r\n        path: state.path\r\n     };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    getPath\r\n})(withRouter(Navigation));","import React, {useState, useEffect, useRef} from 'react';\r\n\r\nconst Dropdown = ( { label, options, selected, onSelectedClick} ) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        \r\n        const onBodyClick = (event) => {\r\n            if(ref.current && ref.current.contains(event.target)) return;\r\n            setIsOpen(false);\r\n        }\r\n        document.body.addEventListener('click', onBodyClick, {capture: true});\r\n\r\n        return () => {\r\n            document.body.removeEventListener('click', onBodyClick, {capture: true});\r\n        }\r\n    },[])\r\n\r\n    const renderedOptions = options.map((option) => {\r\n        if (selected.value === option.value) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div \r\n            key= {option.value}\r\n            className=\"item\"\r\n            onClick={() => onSelectedClick(option)}\r\n            >\r\n                {option.label}\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n    <div ref={ref} className=\"ui form\">\r\n\r\n        <div className=\"field\">\r\n\r\n            <label className=\"label\">select a {label} </label>\r\n\r\n            <div \r\n            onClick={() => {\r\n                setIsOpen(!isOpen)\r\n            }}\r\n            className= {`ui selection dropdown ${isOpen && 'visible active'}`}>\r\n                <i className=\"dropdown icon\"></i>\r\n                <div \r\n                className=\"text\"> {selected.label} </div>\r\n\r\n                <div className={`menu ${isOpen && 'visible transition'}`}>\r\n                    {renderedOptions}\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Dropdown;","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { \r\n    selectLanguage, selectFilter, selectPrintType, selectOrder, selectMaxResultNum \r\n} from '../../actions/index';\r\nimport Dropdown from './Dropdown';\r\n\r\nclass FiltersSetting extends Component {\r\n\r\n    render() {\r\n        const { \r\n            languages,\r\n            filters,\r\n            printTypes,\r\n            orders,\r\n            maxResultNums\r\n        } = this.props.options;\r\n        const {\r\n            language, filter, printType, order, maxResultNum,\r\n            selectLanguage, selectFilter, selectPrintType, selectOrder, selectMaxResultNum\r\n        } = this.props;\r\n         \r\n        return (\r\n                <>\r\n                <Dropdown \r\n                        label={'language'}\r\n                        options={languages}\r\n                        selected={language}\r\n                        onSelectedClick={selectLanguage}\r\n                    />\r\n        \r\n                    <Dropdown \r\n                        label={'price filter'}\r\n                        options={filters}\r\n                        selected={filter}\r\n                        onSelectedClick={selectFilter}\r\n                    />\r\n        \r\n                    <Dropdown \r\n                        label={'print type'}\r\n                        options={printTypes}\r\n                        selected={printType}\r\n                        onSelectedClick={selectPrintType}\r\n                    />\r\n                    <Dropdown \r\n                        label={'order'}\r\n                        options={orders}\r\n                        selected={order}\r\n                        onSelectedClick={selectOrder}\r\n                    />\r\n                    <Dropdown \r\n                        label={'number of max results'}\r\n                        options={maxResultNums}\r\n                        selected={maxResultNum}\r\n                        onSelectedClick={selectMaxResultNum}\r\n                    />\r\n                </>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nconst mapStateProps = (state) => {\r\n    return {\r\n        options: state.options,\r\n        language: state.selections.LANGUAGE,\r\n        filter: state.selections.FILTER,\r\n        printType: state.selections.PRINTTYPE,\r\n        order: state.selections.ORDER,\r\n        maxResultNum: state.selections.MAX_RESULT_NUM\r\n    };\r\n};\r\n\r\nexport default connect(mapStateProps,{\r\n    selectLanguage, selectFilter, selectPrintType, selectOrder, selectMaxResultNum\r\n    })(FiltersSetting);","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { \r\n    fetchBooks,\r\n    clearBooks, \r\n} from '../../actions/index';\r\nimport FiltersSetting from './FiltersSetting';\r\n\r\n\r\nclass SearchBar extends Component {\r\n\r\n    componentDidMount(){\r\n        const { fetchBooks, initialValues, books, searchBar } = this.props;\r\n        if(!books) fetchBooks(\r\n            searchBar ? searchBar.values :initialValues.term\r\n            );\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { filters, searchBar } = this.props;\r\n        if(prevProps.filters !== filters && searchBar) {\r\n            this.onSubmit(searchBar.values);\r\n        }\r\n    }\r\n\r\n    renderError = ({ error, touched }) => {\r\n        if(error && touched) {\r\n            return(\r\n                <div className=\"ui error message\">\r\n                    {error}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderInput = ({ input, label, meta }) => {\r\n        const className = `field${meta.touched && meta.error ? ' error' : ''}`\r\n        return(\r\n            <div className={className}>\r\n                <label className=\"label\">{ label }</label>\r\n                <input {...input} />\r\n                <div>{this.renderError(meta)}</div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    onSubmit = formValues => {\r\n        const { clearBooks, fetchBooks } = this.props;\r\n        if(formValues.term) {\r\n            clearBooks();\r\n            fetchBooks(formValues);\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div \r\n                className=\"ui container\"\r\n                style={{\r\n                    margin: '10px 10px'}}\r\n                >\r\n                    \r\n                <div \r\n                    ref={this.searchBarRef}\r\n                    className=\"ui segment\">\r\n                    <form \r\n                        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n                        className=\"ui form error\">\r\n\r\n                        <Field \r\n                            name=\"term\" \r\n                            component={this.renderInput}\r\n                            label={\"Search\"}/>\r\n\r\n                    </form>\r\n\r\n                    <FiltersSetting />\r\n\r\n                    <br></br>\r\n\r\n                    <div className=\"actions\">\r\n                        <button \r\n                            className= \"ui button primary\"\r\n                            onClick={this.props.handleSubmit(this.onSubmit)}>\r\n                            search\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n} \r\n\r\nconst validate = (formValues) => {\r\n    const errs = {};\r\n    if(!formValues.term) {\r\n        errs.term = 'Please enter a search term!'\r\n    }\r\n    return errs;\r\n}\r\n\r\nconst formWrapped = reduxForm({\r\n    form: 'searchBar',\r\n    validate,\r\n})(SearchBar);\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        books: state.books,\r\n        filters: state.selections,\r\n        searchBar: state.form.searchBar\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchBooks,\r\n    clearBooks,\r\n})(formWrapped);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass BookItem extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.imgRef = React.createRef();\r\n        this.headerRef = React.createRef();\r\n    }\r\n    state = { \r\n        imgHeight: null, \r\n        headerHeight: null,};\r\n\r\n    componentDidMount(){\r\n        if(this.props.bookInfo.volumeInfo) {this.imgRef.current.addEventListener('load', this.setHeights);\r\n        window.addEventListener('resize', this.setHeights);\r\n  }  }\r\n\r\n    componentWillUnmount(){\r\n        if(this.props.bookInfo.volumeInfo) {this.imgRef.current.removeEventListener('load', this.setHeights);\r\n        window.removeEventListener('resize', this.setHeights);}\r\n    }\r\n\r\n    setHeights = () => {\r\n        const imgHeight = Math.ceil(this.imgRef.current.clientWidth * 1.3);\r\n        this.setState({ imgHeight });\r\n\r\n        const headerHeight = Math.ceil(this.headerRef.current.clientWidth * 0.26);\r\n        this.setState({ headerHeight })\r\n    }\r\n\r\n    renderAuthors = (volumeInfo) => {\r\n        const { authors } = volumeInfo; \r\n        const authorsToShow = authors \r\n        ? authors \r\n        : 'N/A';\r\n                return(\r\n                    <div \r\n                        className=\"description\"\r\n                        style={{\r\n                            marginBottom: \"auto\"\r\n                    }}\r\n                    >\r\n                        <i className=\"users icon\"></i>\r\n                        <span>{authorsToShow}</span>\r\n                    </div>\r\n                );\r\n    }\r\n\r\n    renderRetailPrice = ({retailPrice, saleability}) => {\r\n        return(\r\n            <div className=\"description\"\r\n                style={{\r\n                    marginTop: \"auto\",\r\n                    paddingTop: \"1rem\",\r\n                    marginBottom: \"1rem\"\r\n            }}\r\n            >imageLinks\r\n                <i className=\"money bill alternate icon\"></i>\r\n                <span>\r\n                    {retailPrice\r\n                        ? retailPrice.currencyCode + \" \" + retailPrice.amount \r\n                        : saleability\r\n                        }\r\n                </span>\r\n            </div>\r\n        )\r\n}\r\n\r\n    render(){\r\n        const volumeId = `/${this.props.bookInfo.id}`;\r\n\r\n        const link = window.location.pathname === '/'\r\n        ? volumeId\r\n        : window.location.pathname + volumeId;\r\n        const { volumeInfo, saleInfo } = this.props.bookInfo;\r\n        if(volumeInfo) {\r\n        return (\r\n            <div className=\"card\">\r\n                <div \r\n                    className=\"image\"\r\n                >\r\n                    <img \r\n                        ref={this.imgRef}\r\n                        src={volumeInfo.imageLinks \r\n                            ? volumeInfo.imageLinks.thumbnail\r\n                            : '/img/square-image.png'\r\n                        }\r\n                        alt={volumeInfo.title}\r\n                        style={{\r\n                            height: `${this.state.imgHeight}px`\r\n                        }}\r\n                        />\r\n                </div>\r\n                <div \r\n                    className=\"content\"\r\n                    style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\"\r\n                    }}\r\n                >\r\n                    <div \r\n                        ref={this.headerRef}\r\n                        className=\"header\"\r\n                        id=\"card-header\"\r\n                        style={{\r\n                            height: `${this.state.headerHeight}px`\r\n                        }}\r\n                        >\r\n                        {volumeInfo.title}\r\n                    </div>\r\n\r\n                    {this.renderAuthors(volumeInfo)}\r\n                    <br></br>\r\n                    {this.renderRetailPrice(saleInfo)}\r\n            \r\n                </div>\r\n                <Link \r\n                    to={link}\r\n                    className=\"ui bottom attached button primary\"\r\n                >\r\n                    See details\r\n                </Link>\r\n            </div>\r\n        )\r\n                    }\r\n        return(\r\n            <div>\r\n                cant render this volume\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default BookItem;","import React, { Component } from 'react';\r\nimport BookItem from './BookItem';\r\n\r\nclass BookShowcase extends Component {\r\n    state = { cardNum: \"two\" };\r\n\r\n    updateCardNum = () => {\r\n        let cardNum = 'two';\r\n        const { innerWidth } = window;\r\n        if (innerWidth > 700 && innerWidth < 1000 ) {\r\n            cardNum = \"three\";\r\n        } else if (innerWidth >= 1000) {\r\n            cardNum = \"five\";\r\n        } else if (innerWidth < 450) {\r\n            cardNum = \"one\";\r\n        } \r\n        this.setState({ cardNum: cardNum});\r\n        }\r\n    \r\n        componentDidMount() {\r\n            window.addEventListener('resize', this.updateCardNum);\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            window.removeEventListener('resize', this.updateCardNum);\r\n        }\r\n    \r\n    renderResult = books => {\r\n        if(books) {\r\n            const result = books.length === 0 \r\n            ? 'no books found'\r\n            : books.length + 'items found ';\r\n\r\n            return ( \r\n            <h2 className=\"label\">\r\n                {result}\r\n            </h2>)\r\n        }\r\n\r\n        \r\n        return(\r\n            <h2 className=\"label\">\r\n                Loading...\r\n            </h2>\r\n            );\r\n    }\r\n\r\n    renderBookRows = books => {  \r\n        if(books) {\r\n            if(books.length > 1) {\r\n                return books.map(book => {\r\n                    return(\r\n                        <BookItem \r\n                            key={book.id}\r\n                            bookInfo={book}\r\n                        />\r\n                    );\r\n                });\r\n            } else if(books.length === 1) {\r\n                return(\r\n                    <BookItem \r\n                        key={books[0].id}\r\n                        bookInfo={books[0]}\r\n                    />\r\n                );\r\n            } \r\n        }\r\n    }\r\n\r\n    render(){\r\n        const { books } = this.props;\r\n        return (\r\n            <div className=\"ui container\">\r\n                {this.renderResult(books)}    \r\n                <div className={`ui ${this.state.cardNum} cards`}>\r\n                    {this.renderBookRows(books)}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default BookShowcase;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport SearchBar from './SearchBar';\r\nimport BookShowcase from './BookShowcase';\r\nimport { fetchBooks } from '../../actions/index';\r\n\r\nclass BookFinder extends Component {\r\n    render() {\r\n        const initialValues = {term: \"apple\"};\r\n    return (\r\n        <div>\r\n            <SearchBar initialValues={initialValues}/>\r\n            {this.props.books &&\r\n                <BookShowcase books={Object.values(this.props.books)} pathname={this.props.match.url} width={this.props.width} />\r\n            }\r\n        </div>\r\n    )\r\n    }\r\n};\r\nconst mapStateToProps = state => {\r\n    return {books : state.books};\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchBooks\r\n})(BookFinder);\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport BookShowcase from '../finder/BookShowcase';\r\nimport { fetchSavedBooks } from '../../actions/index';\r\n\r\nclass Bookshelf extends Component {\r\n    componentDidMount() {\r\n        this.props.fetchSavedBooks(this.props.match.params.userId);\r\n    }\r\n    \r\n    render() {\r\n        return(\r\n                <div className=\"ui container\">\r\n                    {this.props.books &&\r\n                    <BookShowcase books={Object.values(this.props.books)} pathname={this.props.match.url} />\r\n                }\r\n                </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {books : state.bookshelf};\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchSavedBooks\r\n})(Bookshelf);","import { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\n//can I make this below one line dynamic so that I can pass a prop in place pf '#modal'\r\nconst rootDiv = document.querySelector('#modal');\r\nclass Modal extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.ourModalDiv = document.createElement('div');\r\n    }\r\n\r\n   componentDidMount(){\r\n       rootDiv.appendChild(this.ourModalDiv);\r\n   }\r\n\r\n   componentWillUnmount(){\r\n       rootDiv.removeChild(this.ourModalDiv);\r\n   }\r\n\r\n    render(){\r\n        return ReactDOM.createPortal(\r\n            <div \r\n                onClick={this.props.onClick}\r\n                className=\"ui dimmer modals visible active\"\r\n                id=\"modal-background\"\r\n                >\r\n                \r\n                <div \r\n                    onClick={(e)=> e.stopPropagation()}\r\n                    className=\"ui modal visible active\"\r\n                    id=\"modal-wrapper\"\r\n                    >\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n            ,this.ourModalDiv\r\n        );\r\n    }\r\n};\r\n\r\nexport default Modal;\r\n\r\n/*constructor(props){\r\n         super(props);\r\n         this.ourModalDiv = document.createElement('div');\r\n     }\r\n\r\n    componentDidMount(){\r\n        rootDiv.appendChild(this.ourModalDiv);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        rootDiv.removeChild(this.ourModalDiv);\r\n    } */","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '../Modal';\r\n\r\n\r\nclass BookModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.descRef = React.createRef();\r\n    }\r\n    buyLink\r\n\r\n    renderRetailprice = ({retailPrice, saleability}) => {\r\n        return(\r\n            <div className=\"description\" id=\"retail-price\">\r\n                <i className=\"money bill alternate icon\"></i>\r\n                <span>\r\n                    {retailPrice\r\n                        ? retailPrice.currencyCode + \" \" + retailPrice.amount \r\n                        : saleability\r\n                        }\r\n                </span>\r\n            </div>\r\n        )\r\n}\r\n\r\n    renderAdmin = () => {\r\n        const { auth, book, onClick, isSavable } = this.props;\r\n        if(auth.isSignedIn && isSavable) {\r\n            return(\r\n                <button\r\n                    onClick={() => onClick(book, auth.userId)} \r\n                    className=\"ui negative button\">\r\n                    Save to Bookshelf\r\n                </button>\r\n            )\r\n\r\n        } else if( window.location.pathname.includes('bookshelf') ) {\r\n            return(\r\n                <button\r\n                    onClick={() => onClick(book.id, auth.userId)} \r\n                    className=\"ui negative button\">\r\n                    Delete from Bookshelf\r\n                </button>\r\n            )\r\n        } return null;\r\n    }\r\n\r\n    render() {\r\n        const { volumeInfo } = this.props.book\r\n        if(this.props.book) {\r\n            return(\r\n                <>\r\n                    <Modal>\r\n                        <div className=\"header\">\r\n                            {volumeInfo.title}\r\n                        </div>\r\n                            <div \r\n                            className = \"ui container\"\r\n                            id=\"modal-container\"\r\n                            >\r\n\r\n                                    <div className=\"image\" id=\"modal-image\">\r\n                                        <img \r\n                                            className=\"big-thumbnail\"\r\n                                            src={volumeInfo.imageLinks \r\n                                                ? volumeInfo.imageLinks.thumbnail\r\n                                                : '/img/square-image.png'\r\n                                            }\r\n                                            alt={volumeInfo.title}\r\n                                            />\r\n                                    </div>\r\n\r\n                                    <div className=\"content\" id=\"modal-content\">\r\n                                        <p className=\"description\" id=\"modal-description\">\r\n                                            <i className=\"file alternate icon\"></i>\r\n                                            {volumeInfo.description \r\n                                            ? volumeInfo.description \r\n                                            : 'N/A'}\r\n                                        </p>\r\n\r\n                                        <div \r\n                                            className=\"description\" id=\"authors\"\r\n                                            ref={this.descRef}>\r\n                                            <i className=\"users icon\"></i>\r\n                                                <span>{\r\n                                                    volumeInfo.authors \r\n                                                    ? volumeInfo.authors \r\n                                                    : 'N/A'\r\n                                                }</span>\r\n                                        </div>\r\n                                    </div>\r\n                            </div>\r\n                        \r\n                        <div className=\"actions\" id=\"modal-actions\">\r\n\r\n                            <a className=\"ui primary button\" \r\n                            href={volumeInfo.previewLink} \r\n                            >\r\n                                preview on GoogleBooks\r\n                            </a>\r\n                            {this.renderAdmin()}\r\n\r\n                            <Link\r\n                                to={this.props.match.url.replace(`/${this.props.match.params.volumeId}`, '')}\r\n                                className=\"ui button\">\r\n                                Go Back\r\n                            </Link>\r\n                        </div>\r\n                    </Modal>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default BookModal;","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { fetchBook, fetchSavedBooks, saveBook } from '../../actions';\r\nimport BookModal from '../BookModal';\r\n\r\nclass BookSave extends Component {\r\n    componentDidMount() {\r\n        const { match, fetchBook} = this.props;\r\n        fetchBook(match.params.volumeId);\r\n        this.props.fetchSavedBooks();\r\n    }\r\n\r\n    onClick = (book, userId) => {\r\n        if(this.props.bookToCheck) {\r\n            alert('this books is already in your bookshelf!')\r\n        } else {\r\n            this.props.saveBook(book, userId);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { book, auth, match } =this.props;\r\n        const isSavable = this.props.bookToCheck\r\n        ? false : true;\r\n        return (\r\n            <>\r\n                {book && \r\n                    <BookModal onClick={this.onClick} book={book} auth={auth} match={match} isSavable={isSavable} />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        book: state.book,\r\n        bookToCheck: state.bookshelf && state.bookshelf[ownProps.match.params.volumeId],\r\n        auth: state.auth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{\r\n    fetchBook, fetchSavedBooks, saveBook\r\n})(BookSave);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deleteSavedBook, fetchSavedBook } from '../../actions';\r\nimport BookModal from '../BookModal';\r\n\r\n\r\nclass BookShelfDelete extends Component {\r\n    componentDidMount() {\r\n        const { match, fetchSavedBook } = this.props;\r\n        \r\n        fetchSavedBook(match.params.volumeId, match.params.userId);\r\n    }\r\n\r\n    render() {\r\n        const { book, auth, match } =this.props;\r\n        return (\r\n            <>\r\n                {book &&\r\n                    <BookModal onClick={this.props.deleteSavedBook} book={book} auth={auth} match={match} />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        book: state.savedBook,\r\n        auth: state.auth,\r\n        currentPath: state.path\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{\r\n    fetchSavedBook, deleteSavedBook\r\n})(BookShelfDelete);","import React, { Component } from 'react';\r\nimport { Route, Router } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Navigation from './Navigation';\r\nimport BookFinder from './finder/BookFinder';\r\nimport Bookshelf from './shelf/Bookshelf';\r\nimport './App.css';\r\n\r\nimport BookSave from './finder/BookSave';\r\nimport BookshelfDelete from './shelf/BookshelfDelete';\r\nimport history from './history';\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n    state = { \r\n        width: window.innerWidth,};\r\n    \r\n    // should be an arrow function to avoid binding \"this\"\r\n    getWidth = () => {\r\n        const { innerWidth } = window;\r\n        this.setState({ width: innerWidth });\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.getWidth);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.getWidth);\r\n    }\r\n    \r\n    render() {\r\n    return (\r\n        <div>\r\n            <Router history={history} >\r\n                <Navigation key={window.location.pathname} width={this.state.width} />\r\n                <Route exact path=\"/\" component={BookFinder} />\r\n                <Route exact path=\"/:volumeId\" component={BookSave} />\r\n\r\n                <Route exact path=\"/bookshelf/:userId\" component={Bookshelf} />\r\n                <Route exact path=\"/bookshelf/:userId/:volumeId\" component={BookshelfDelete} />\r\n\r\n            </Router>\r\n        </div>\r\n    )\r\n    }\r\n};\r\n\r\nexport default connect(null,\r\n    )(App);","import {SIGN_IN, SIGN_OUT} from '../actions/actionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n    isSignedIn: null,\r\n    userId: null\r\n};\r\n\r\nexport const oAuthReducer = (state=INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case SIGN_IN:\r\n            return  { \r\n                ...state, \r\n                isSignedIn: true, \r\n                userId: action.payload \r\n            }\r\n        case SIGN_OUT:\r\n            return { \r\n                ...state, \r\n                isSignedIn: false, \r\n                userId: null \r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {LANG_SELECTED, FILTER_SELECTED, PRINTTYPE_SELECTED, ORDER_SELECTED, MAX_RESULT_NUM_SELECTED} from '../actions/actionTypes';\r\nimport { FILTER, LANGUAGE, MAX_RESULT_NUM, ORDER, PRINTTYPE } from './reducerTypes';\r\n\r\n\r\nexport const optionsReducer = () => {\r\n    return {\r\n        languages: [\r\n            {\r\n                label: \"English\" ,\r\n                value: \"en\"\r\n            },\r\n            {\r\n                label: \"Japanese\" ,\r\n                value: \"ja\"\r\n            },\r\n            {\r\n                label: \"French\" ,\r\n                value: \"fr\"\r\n            },\r\n            {\r\n                label: \"Chinese\" ,\r\n                value: \"ch\"\r\n            },\r\n            {\r\n                label: \"Spanish\" ,\r\n                value: \"sp\"\r\n            },\r\n            {\r\n                label: \"Arabic\" ,\r\n                value: \"ar\"\r\n            }\r\n        ],\r\n        filters: [\r\n            {\r\n                label: \"All e-books\" ,\r\n                value: \"ebooks\"\r\n            },\r\n            {\r\n                label: \"Free books\" ,\r\n                value: \"free-ebooks\"\r\n            },\r\n            {\r\n                label: \"Paid books\" ,\r\n                value: \"paid-ebooks\"\r\n            },\r\n        \r\n        ],\r\n        printTypes:   [\r\n            {\r\n                label: \"All\" ,\r\n                value: \"all\"\r\n            },\r\n            {\r\n                label: \"Books\" ,\r\n                value: \"books\"\r\n            },\r\n            {\r\n                label: \"Magazines\" ,\r\n                value: \"magazines\"\r\n            },\r\n        \r\n        ],\r\n        orders: [\r\n            {\r\n                label: 'Most Relevant',\r\n                value: 'relevance'\r\n            },\r\n            {\r\n                label: 'Newest',\r\n                value: 'newest'\r\n            }\r\n        ],\r\n        maxResultNums: [\r\n            {\r\n                label: '10',\r\n                value: 10\r\n            },\r\n            {\r\n                label: '20',\r\n                value: 20\r\n            },\r\n            {\r\n                label: '30',\r\n                value: 30\r\n            },\r\n            {\r\n                label: '40',\r\n                value: 40\r\n            }\r\n        ]\r\n    };\r\n};\r\n\r\nconst {languages, filters, printTypes, orders, maxResultNums} = optionsReducer();\r\nconst INITIAL_SELECTIONS = {\r\n[ORDER]:orders[0], [MAX_RESULT_NUM]:maxResultNums[0], [LANGUAGE]:languages[0], [FILTER]:filters[0], [PRINTTYPE]:printTypes[0] \r\n};\r\nexport const selectionReducer = ( state=INITIAL_SELECTIONS, action) => {\r\n    switch(action.type) {\r\n        case LANG_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        case FILTER_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        case PRINTTYPE_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        case ORDER_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        case MAX_RESULT_NUM_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nimport { oAuthReducer } from './oAuthReducers';\r\nimport { booksReducer, bookReducer } from './booksReducer';\r\nimport { bookshelfReducer, savedBookReducer } from './bookshelfReducer';\r\nimport { pathReducer } from './pathReducer';\r\nimport { heightReducer } from './styleReducers';\r\nimport { \r\n    optionsReducer,\r\n    selectionReducer\r\n} from './filtersReducer';\r\n \r\nexport const reducers = combineReducers({\r\n    options: optionsReducer,\r\n    selections: selectionReducer,\r\n\r\n    form: formReducer, \r\n\r\n    books: booksReducer,\r\n    book: bookReducer,\r\n    \r\n    bookshelf: bookshelfReducer,\r\n    savedBook: savedBookReducer,\r\n    \r\n    path: pathReducer,\r\n\r\n    height: heightReducer,\r\n    auth: oAuthReducer\r\n});","import _ from 'lodash';\r\nimport { FETCH_BOOKS, FETCH_BOOK, CLEAR_BOOKS } from '../actions/actionTypes';\r\n\r\nexport const booksReducer = (state=null, action) => {\r\n    switch (action.type) {\r\n        case FETCH_BOOKS : \r\n           return { ...state, ..._.mapKeys(action.payload, 'id') };\r\n        case CLEAR_BOOKS :\r\n           return state = null;\r\n        default :\r\n            return state;\r\n   }\r\n}\r\n//for a single fetch\r\nexport const bookReducer = (state=null, action) => {\r\n   switch (action.type) {\r\n      case FETCH_BOOK :\r\n         return action.payload;\r\n      default :\r\n         return state;\r\n   }\r\n}","import _ from 'lodash';\r\nimport { FETCH_SAVED_BOOKS, FETCH_SAVED_BOOK, SAVE_BOOK, DELETE_SAVED_BOOK } from '../actions/actionTypes';\r\n\r\nexport const bookshelfReducer = (state=null, action) => {\r\n    switch(action.type) {\r\n        case FETCH_SAVED_BOOKS :\r\n            return _.mapKeys(action.payload, 'id');\r\n        case SAVE_BOOK :\r\n            return { ...state, [action.payload.id]:action.payload };\r\n        case DELETE_SAVED_BOOK :\r\n            return _.omit(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const savedBookReducer = (state=null, action) => {\r\n    switch (action.type) {\r\n        case FETCH_SAVED_BOOK :\r\n           return state = action.payload;\r\n        default :\r\n           return state;\r\n     }\r\n}","import { GET_PATH } from '../actions/actionTypes';\r\n\r\nexport const pathReducer = (state=\"/\", action) => {\r\n    if(action.type === GET_PATH) {\r\n        return action.payload;\r\n    } \r\n    return state;\r\n}","import {GET_HEIGHT} from '../actions/actionTypes';\r\n\r\nexport const heightReducer = (state={}, action) => {\r\n    if(action.type === GET_HEIGHT) {\r\n        return action.payload;\r\n    } \r\n    return state;\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport { reducers } from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    reducers, \r\n    composeEnhancers(applyMiddleware(thunk))\r\n    );\r\n\r\nReactDOM.render(\r\n    <Provider store={store}> <App /> </Provider>,\r\n    document.querySelector('#root')\r\n);"],"sourceRoot":""}