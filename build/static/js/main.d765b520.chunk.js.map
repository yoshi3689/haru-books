{"version":3,"sources":["API/googleBook.js","actions/actionTypes.js","reducers/reducerTypes.js","API/server.js","components/history.js","actions/index.js","components/OAuth.js","components/Navigation.js","components/finder/Dropdown.js","components/finder/FiltersSetting.js","components/finder/SearchBar.js","components/finder/BookItem.js","components/finder/BookShowcase.js","components/finder/BookFinder.js","components/shelf/Bookshelf.js","Modal.js","components/BookModal.js","components/finder/BookSave.js","components/shelf/BookshelfDelete.js","components/App.js","reducers/oAuthReducers.js","reducers/filtersReducer.js","reducers/index.js","reducers/booksReducer.js","reducers/bookshelfReducer.js","reducers/pathReducer.js","reducers/styleReducers.js","index.js"],"names":["axios","create","baseURL","FETCH_BOOKS","FETCH_BOOK","CLEAR_BOOKS","SIGN_IN","SIGN_OUT","FETCH_SAVED_BOOKS","FETCH_SAVED_BOOK","SAVE_BOOK","DELETE_SAVED_BOOK","GET_PATH","GET_HEIGHT","LANG_SELECTED","FILTER_SELECTED","PRINTTYPE_SELECTED","ORDER_SELECTED","MAX_RESULT_NUM_SELECTED","LANGUAGE","ORDER","FILTER","MAX_RESULT_NUM","PRINTTYPE","port","process","PORT","savedBooks","createBrowserHistory","fetchBooks","formValues","dispatch","getState","a","values","Object","selections","googleBook","get","params","q","orderBy","value","maxResults","langRestrict","filter","printType","download","key","data","type","payload","items","fetchSavedBooks","OAuth","onAuthChange","isSignedIn","props","signIn","signOut","auth","currentUser","getId","onSignInClick","onSignOutClick","renderAuthButton","authConfig","text","handler","onClick","className","window","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","this","Component","connect","state","userId","Navigation","getPath","location","pathname","onLocationChange","routeConfig","link","btnTxt","to","prevProps","path","withRouter","Dropdown","label","options","selected","onSelectedClick","useState","isOpen","setIsOpen","ref","useRef","useEffect","onBodyClick","event","current","contains","target","document","body","addEventListener","capture","removeEventListener","renderedOptions","map","option","FiltersSetting","languages","filters","printTypes","orders","maxResultNums","language","order","maxResultNum","selectLanguage","selectFilter","selectPrintType","selectOrder","selectMaxResultNum","SearchBar","renderError","error","touched","renderInput","input","meta","onSubmit","clearBooks","term","initialValues","books","searchBar","style","margin","searchBarRef","handleSubmit","Field","name","component","formWrapped","reduxForm","form","validate","errs","BookItem","imgHeight","headerHeight","setHeights","Math","ceil","imgRef","clientWidth","setState","headerRef","renderAuthors","volumeInfo","authors","authorsToShow","marginBottom","renderRetailprice","retailPrice","saleability","marginTop","paddingTop","currencyCode","amount","React","createRef","bookInfo","volumeId","id","saleInfo","src","imageLinks","thumbnail","alt","title","height","display","flexDirection","BookShowcase","cardNum","updateCardNum","innerWidth","renderResult","result","length","renderBookRows","book","console","log","BookFinder","match","url","Bookshelf","bookshelf","rootDiv","querySelector","Modal","ourModalDiv","createElement","appendChild","removeChild","ReactDOM","createPortal","e","stopPropagation","children","BookModal","setClampNum","clientHeight","renderAdmin","isSavable","includes","descRef","clampNum","description","href","previewLink","replace","BookSave","bookToCheck","alert","saveBook","fetchBook","ownProps","bookToSave","post","history","push","BookShelfDelete","fetchSavedBook","deleteSavedBook","savedBook","currentPath","delete","App","exact","BookshelfDelete","INITIAL_STATE","optionsReducer","INITIAL_SELECTIONS","reducers","combineReducers","action","formReducer","_","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","render"],"mappings":"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","file":"static/js/main.d765b520.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://www.googleapis.com/books/v1'\r\n});","export const FETCH_BOOKS = 'FETCH_BOOKS';\r\nexport const FETCH_BOOK = 'FETCH_BOOK';\r\nexport const CLEAR_BOOKS = 'CLEAR_BOOKS';\r\n\r\nexport const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\n\r\nexport const FETCH_SAVED_BOOKS = 'FETCH_SAVED_BOOKS';\r\nexport const FETCH_SAVED_BOOK = 'FETCH_SAVED_BOOK';\r\nexport const SAVE_BOOK = 'SAVE_BOOK';\r\nexport const DELETE_SAVED_BOOK = 'DELETE_SAVED_BOOK';\r\n\r\nexport const FETCH_USERS = 'FETCH_USERS';\r\nexport const ADD_USER = 'ADD_USER';\r\n\r\nexport const GET_PATH = 'GET_PATH';\r\n\r\nexport const GET_HEIGHT = 'GET_HEIGHT';\r\n\r\nexport const LANG_SELECTED = 'LANG_SELECTED';\r\nexport const FILTER_SELECTED = 'FILTER_SELECTED';\r\nexport const PRINTTYPE_SELECTED = 'PRINTTYPE_SELECTED';\r\nexport const ORDER_SELECTED = 'ORDER_SELECTED';\r\nexport const MAX_RESULT_NUM_SELECTED = 'MAX_RESULT_NUM_SELECTED';","export const LANGUAGE = 'LANGUAGE';\r\nexport const ORDER = 'ORDER';\r\nexport const FILTER = 'FILTER';\r\nexport const MAX_RESULT_NUM = 'MAX_RESULT_NUM';\r\nexport const PRINTTYPE = 'PRINTTYPE';","import axios from 'axios';\r\n\r\n// the below is necessary for heroku deployment\r\nconst port = process.env.PORT || 3001 || 3000;\r\n\r\nexport const savedBooks =  axios.create({\r\n    baseURL: `http://localhost:${port}/bookshelf`\r\n});\r\n\r\nexport const users =  axios.create({\r\n    baseURL: `http://localhost:${port}/users`\r\n});\r\n\r\n\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","import googleBook from '../API/googleBook';\r\n\r\nimport {\r\n    FETCH_BOOKS, FETCH_BOOK,CLEAR_BOOKS,\r\n    SIGN_IN,SIGN_OUT,\r\n    FETCH_SAVED_BOOKS, FETCH_SAVED_BOOK, SAVE_BOOK, DELETE_SAVED_BOOK,\r\n    FETCH_USERS, ADD_USER,\r\n    GET_PATH,\r\n    GET_HEIGHT,\r\n    LANG_SELECTED,\r\n    FILTER_SELECTED,\r\n    PRINTTYPE_SELECTED,\r\n    ORDER_SELECTED,\r\n    MAX_RESULT_NUM_SELECTED} from './actionTypes';\r\n\r\nimport { FILTER, LANGUAGE, MAX_RESULT_NUM, ORDER, PRINTTYPE } from '../reducers/reducerTypes';\r\n\r\nimport { savedBooks, users } from '../API/server';\r\n\r\nimport history from '../components/history';\r\n\r\nexport const fetchBooks = formValues => async (dispatch, getState) => {\r\n    const values = Object.values(getState().selections);\r\n    const { data } = await googleBook.get('/volumes?', {\r\n        params: {\r\n            q: formValues,\r\n            orderBy: values[0].value,\r\n            maxResults: values[1].value,\r\n            langRestrict: values[2].value,\r\n            filter: values[3].value,\r\n            printType: values[4].value,\r\n            download: 'epub', \r\n            key: process.env.REACT_APP_BOOKS_API_KEY\r\n            },\r\n        });\r\n    dispatch({ type: FETCH_BOOKS, payload: data.items });\r\n};\r\nexport const fetchBook = volumeId => async dispatch => {\r\n    const { data } = await googleBook.get(`/volumes/${volumeId}`);\r\n    dispatch({type: FETCH_BOOK, payload: data});\r\n}\r\nexport const clearBooks = () => {\r\n    return {\r\n        type: CLEAR_BOOKS\r\n    }\r\n}\r\n\r\nexport const fetchSavedBooks = () => async(dispatch) => {\r\n    const { data } = await savedBooks.get();\r\n    dispatch({type: FETCH_SAVED_BOOKS, payload: data});\r\n}\r\nexport const fetchSavedBook = (volumeId, userId) => async dispatch =>{\r\n    const { data } = await savedBooks.get(`/${volumeId}`);\r\n    if(data.userId === userId) {\r\n        dispatch({type: FETCH_SAVED_BOOK, payload: data});\r\n    } else {\r\n        console.log('this is not your book')\r\n    }\r\n}\r\nexport const saveBook = (bookToSave, userId) => async dispatch => {\r\n    const { data } = await savedBooks.post('', {userId, ...bookToSave});\r\n    dispatch({type: SAVE_BOOK, payload: data});\r\n    history.push('/');\r\n    \r\n    //console.log(\"route change went sucessfully\");\r\n}\r\nexport const deleteSavedBook = (volumeId, userId) => async dispatch => {\r\n    await savedBooks.delete(`/${volumeId}`);\r\n    dispatch({type: DELETE_SAVED_BOOK, payload: volumeId});\r\n    console.log('deleted from the Redux');\r\n    history.push(`/bookshelf/${userId}`);\r\n    //console.log(\"route change went sucessfully\");\r\n}\r\n\r\nexport const fetchUsers = () => async(dispatch) => {\r\n    const { data } = await users.get();\r\n    dispatch({type: FETCH_USERS, payload: data});\r\n}\r\nexport const addUser = userId => async dispatch => {\r\n    const { data } = await users.post(userId);\r\n    dispatch({type: ADD_USER, payload: data});\r\n}\r\n\r\nexport const signIn = userId => {\r\n    return {type: SIGN_IN, payload: userId};\r\n}\r\nexport const signOut = () => {\r\n    return {type: SIGN_OUT};\r\n}\r\n\r\nexport const getPath = (path) => {\r\n    return { type: GET_PATH, payload: path }\r\n}\r\n\r\nexport const getHeight = height => {\r\n    return {type: GET_HEIGHT, payload: height};\r\n};\r\n\r\nexport const selectLanguage = language => {\r\n    return { type: LANG_SELECTED, payload: { [LANGUAGE]:language} };\r\n};\r\nexport const selectFilter = filter => {\r\n    return { type: FILTER_SELECTED, payload: {[FILTER]:filter} };\r\n};\r\nexport const selectPrintType = printType => {\r\n    return { type: PRINTTYPE_SELECTED, payload: {[PRINTTYPE]:printType} };\r\n};\r\nexport const selectOrder = order => {\r\n    return {\r\n        type: ORDER_SELECTED,\r\n        payload: {[ORDER]:order}\r\n    }\r\n}\r\nexport const selectMaxResultNum = maxResultNum => {\r\n    return {\r\n        type: MAX_RESULT_NUM_SELECTED,\r\n        payload: {[MAX_RESULT_NUM]:maxResultNum}\r\n    };\r\n};\r\n","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {signIn, signOut} from '../actions/index';\r\n\r\nclass OAuth extends Component {\r\n\r\n    componentDidMount() {\r\n        window.gapi.load('client:auth2', () => {\r\n            window.gapi.client.init({\r\n                clientId: process.env.REACT_APP_OAUTH_CLIENT_ID,\r\n                scope: 'email'\r\n            }).then(() => {\r\n                this.auth = window.gapi.auth2.getAuthInstance();\r\n                this.onAuthChange(this.auth.isSignedIn.get());\r\n                //this line below awaits the sign-in status to be changed,\r\n                // and if the user is signed in, fire the function passed\r\n                this.auth.isSignedIn.listen(this.onAuthChange)\r\n            });\r\n        });\r\n    }\r\n\r\n    onAuthChange = isSignedIn => {\r\n        const {signIn, signOut} = this.props;\r\n\r\n        if(isSignedIn) {\r\n            signIn(this.auth.currentUser.get().getId());\r\n        } else {\r\n            signOut();\r\n        }\r\n    }\r\n\r\n    onSignInClick = () => {\r\n        this.auth.signIn();\r\n    }\r\n\r\n    onSignOutClick = () => {\r\n        this.auth.signOut();\r\n    }\r\n\r\n    renderAuthButton = () => {\r\n        const {isSignedIn} = this.props;\r\n\r\n        if(isSignedIn === null) {\r\n            return null;\r\n        }\r\n        const authConfig = isSignedIn \r\n            ? {text:'sign out', handler: this.onSignOutClick} \r\n            : {text: 'sign in',handler: this.onSignInClick};\r\n        return (         \r\n            <button\r\n                onClick={authConfig.handler} \r\n                className=\"ui google plus button\">\r\n                <i className=\"google icon\"></i>\r\n                {authConfig.text}\r\n            </button>)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <>\r\n                {this.renderAuthButton()}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    //console.log(state.isSignedIn)\r\n    return{\r\n        isSignedIn: state.auth.isSignedIn,\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps, \r\n    {signIn, signOut})(OAuth);","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n//import history from './history';\r\nimport { getPath } from '../actions/index';\r\nimport OAuth from './OAuth';\r\n\r\nclass Navigation extends Component {\r\n\r\n    componentDidMount() {\r\n        this.getPath();\r\n        this.onLocationChange();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        this.getPath();\r\n        if(prevProps.path !== window.location.pathname) {\r\n            this.onLocationChange();\r\n        }\r\n    }\r\n\r\n    getPath = () => {\r\n        this.props.getPath(window.location.pathname);\r\n    }\r\n\r\n    onLocationChange = () => {\r\n        const {isSignedIn, userId} = this.props.auth;\r\n        const routeConfig = isSignedIn && window.location.pathname === \"/\"\r\n        ? {link: `/bookshelf/${userId}`, btnTxt: 'Bookshelf'}\r\n        : {link: '/', btnTxt: 'Home'}\r\n            return(\r\n                <div className=\"item\">\r\n                    <Link to={routeConfig.link} className=\"ui button\">\r\n                        {routeConfig.btnTxt}\r\n                    </Link>\r\n                </div>      \r\n            )\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"ui\">\r\n                <div className=\"ui top sticky menu\">\r\n                    <div className=\"item\">\r\n                        <h2>Haru Books</h2>\r\n                    </div>\r\n                    <div className=\"item\">\r\n                        <OAuth />\r\n                    </div>\r\n                    {this.onLocationChange()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return{ \r\n        auth: state.auth,\r\n        path: state.path\r\n     };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    getPath\r\n})(withRouter(Navigation));","import React, {useState, useEffect, useRef} from 'react';\r\n// import { connect } from 'react-redux';\r\n\r\nconst Dropdown = ( { label, options, selected, onSelectedClick} ) => {\r\n    //console.log(selected, options);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        \r\n        const onBodyClick = (event) => {\r\n            if(ref.current && ref.current.contains(event.target)) return;\r\n            setIsOpen(false);\r\n        }\r\n        document.body.addEventListener('click', onBodyClick, {capture: true});\r\n\r\n        return () => {\r\n            document.body.removeEventListener('click', onBodyClick, {capture: true});\r\n        }\r\n    },[])\r\n\r\n    const renderedOptions = options.map((option) => {\r\n        if (selected.value === option.value) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div \r\n            key= {option.value}\r\n            className=\"item\"\r\n            onClick={() => onSelectedClick(option)}\r\n            >\r\n                {option.label}\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n    <div ref={ref} className=\"ui form\">\r\n\r\n        <div className=\"field\">\r\n\r\n            <label className=\"label\">select a {label} </label>\r\n\r\n            <div \r\n            onClick={() => {\r\n                setIsOpen(!isOpen)\r\n            }}\r\n            className= {`ui selection dropdown ${isOpen && 'visible active'}`}>\r\n                <i className=\"dropdown icon\"></i>\r\n                <div \r\n                className=\"text\"> {selected.label} </div>\r\n\r\n                <div className={`menu ${isOpen && 'visible transition'}`}>\r\n                    {renderedOptions}\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\n/*solution to connecting a grandchild component to redux store https://react-redux.js.org/using-react-redux/connect-mapdispatch */\r\n\r\n// const mapDispatchToProps = (dispatch, ownProps) => {\r\n//     return {\r\n//         onClick: (option) => dispatch(ownProps.onSelectedClick(option))\r\n//     }\r\n// }\r\n\r\nexport default Dropdown;","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { \r\n    selectLanguage, selectFilter, selectPrintType, selectOrder, selectMaxResultNum \r\n} from '../../actions/index';\r\nimport Dropdown from './Dropdown';\r\n\r\nclass FiltersSetting extends Component {\r\n\r\n    render() {\r\n        const { \r\n            languages,\r\n            filters,\r\n            printTypes,\r\n            orders,\r\n            maxResultNums\r\n        } = this.props.options;\r\n        const {\r\n            language, filter, printType, order, maxResultNum,\r\n            selectLanguage, selectFilter, selectPrintType, selectOrder, selectMaxResultNum\r\n        } = this.props;\r\n         \r\n        return (\r\n                <>\r\n                <Dropdown \r\n                        label={'language'}\r\n                        options={languages}\r\n                        selected={language}\r\n                        onSelectedClick={selectLanguage}\r\n                    />\r\n        \r\n                    <Dropdown \r\n                        label={'price filter'}\r\n                        options={filters}\r\n                        selected={filter}\r\n                        onSelectedClick={selectFilter}\r\n                    />\r\n        \r\n                    <Dropdown \r\n                        label={'print type'}\r\n                        options={printTypes}\r\n                        selected={printType}\r\n                        onSelectedClick={selectPrintType}\r\n                    />\r\n                    <Dropdown \r\n                        label={'order'}\r\n                        options={orders}\r\n                        selected={order}\r\n                        onSelectedClick={selectOrder}\r\n                    />\r\n                    <Dropdown \r\n                        label={'number of max results'}\r\n                        options={maxResultNums}\r\n                        selected={maxResultNum}\r\n                        onSelectedClick={selectMaxResultNum}\r\n                    />\r\n                </>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nconst mapStateProps = (state) => {\r\n    //console.log(state.selections);\r\n    return {\r\n        options: state.options,\r\n        language: state.selections.LANGUAGE,\r\n        filter: state.selections.FILTER,\r\n        printType: state.selections.PRINTTYPE,\r\n        order: state.selections.ORDER,\r\n        maxResultNum: state.selections.MAX_RESULT_NUM\r\n    };\r\n};\r\n\r\nexport default connect(mapStateProps,{\r\n    selectLanguage, selectFilter, selectPrintType, selectOrder, selectMaxResultNum\r\n    })(FiltersSetting);","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { \r\n    fetchBooks,\r\n    clearBooks, \r\n} from '../../actions/index';\r\nimport FiltersSetting from './FiltersSetting';\r\n\r\n\r\nclass SearchBar extends Component {\r\n\r\n    componentDidMount(){\r\n        const { fetchBooks, initialValues, books, searchBar } = this.props;\r\n        if(!books) fetchBooks(\r\n            searchBar ? searchBar.values :initialValues.term\r\n            );\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { filters, searchBar } = this.props;\r\n        if(prevProps.filters !== filters && searchBar) {\r\n            this.onSubmit(searchBar.values);\r\n        }\r\n    }\r\n\r\n    renderError = ({ error, touched }) => {\r\n        if(error && touched) {\r\n            return(\r\n                <div className=\"ui error message\">\r\n                    {error}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderInput = ({ input, label, meta }) => {\r\n        const className = `field${meta.touched && meta.error ? ' error' : ''}`\r\n        return(\r\n            <div className={className}>\r\n                <label className=\"label\">{ label }</label>\r\n                <input {...input} />\r\n                <div>{this.renderError(meta)}</div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    onSubmit = formValues => {\r\n        const { clearBooks, fetchBooks } = this.props;\r\n        if(formValues.term) {\r\n            clearBooks();\r\n            fetchBooks(formValues);\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        //console.log(this.props.auth);\r\n        return (\r\n            <div \r\n                className=\"ui container\"\r\n                style={{\r\n                    margin: '10px 10px'}}\r\n                >\r\n                    \r\n                <div \r\n                    ref={this.searchBarRef}\r\n                    className=\"ui segment\">\r\n                    <form \r\n                        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n                        className=\"ui form error\">\r\n\r\n                        <Field \r\n                            name=\"term\" \r\n                            component={this.renderInput}\r\n                            label={\"Search\"}/>\r\n\r\n                    </form>\r\n\r\n                    <FiltersSetting />\r\n\r\n                    <br></br>\r\n\r\n                    <div className=\"actions\">\r\n                        <button \r\n                            className= \"ui button primary\"\r\n                            onClick={this.props.handleSubmit(this.onSubmit)}>\r\n                            search\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n} \r\n\r\nconst validate = (formValues) => {\r\n    const errs = {};\r\n    if(!formValues.term) {\r\n        errs.term = 'Please enter a search term!'\r\n    }\r\n    return errs;\r\n}\r\n\r\nconst formWrapped = reduxForm({\r\n    form: 'searchBar',\r\n    validate,\r\n})(SearchBar);\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        books: state.books,\r\n        filters: state.selections,\r\n        searchBar: state.form.searchBar\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchBooks,\r\n    clearBooks,\r\n})(formWrapped);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass BookItem extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.imgRef = React.createRef();\r\n        this.headerRef = React.createRef();\r\n    }\r\n    state = { \r\n        imgHeight: null, \r\n        headerHeight: null,};\r\n\r\n    componentDidMount(){\r\n        if(this.props.bookInfo.volumeInfo) {this.imgRef.current.addEventListener('load', this.setHeights);\r\n        window.addEventListener('resize', this.setHeights);\r\n  }  }\r\n\r\n    componentWillUnmount(){\r\n        if(this.props.bookInfo.volumeInfo) {this.imgRef.current.removeEventListener('load', this.setHeights);\r\n        window.removeEventListener('resize', this.setHeights);}\r\n    }\r\n    //reference\r\n    /* setSpans = () => {\r\n        //console.log(this.imgRef.current.clientHeight);\r\n        const imgHeight = this.imgRef.current.clientHeight;\r\n        const spanNum = Math.ceil(imgHeight / 10);\r\n        this.setState({span: spanNum});\r\n    } */\r\n    setHeights = () => {\r\n        const imgHeight = Math.ceil(this.imgRef.current.clientWidth * 1.3);\r\n        this.setState({ imgHeight });\r\n\r\n        const headerHeight = Math.ceil(this.headerRef.current.clientWidth * 0.26);\r\n        this.setState({ headerHeight })\r\n    }\r\n\r\n    renderAuthors = (volumeInfo) => {\r\n        const { authors } = volumeInfo; \r\n        const authorsToShow = authors \r\n        ? authors \r\n        : 'N/A';\r\n                return(\r\n                    <div \r\n                        className=\"description\"\r\n                        style={{\r\n                            marginBottom: \"auto\"\r\n                    }}\r\n                    >\r\n                        <i className=\"users icon\"></i>\r\n                        <span>{authorsToShow}</span>\r\n                    </div>\r\n                );\r\n    }\r\n\r\n    renderRetailprice = ({retailPrice, saleability}) => {\r\n        return(\r\n            <div className=\"description\"\r\n                style={{\r\n                    marginTop: \"auto\",\r\n                    paddingTop: \"1rem\",\r\n                    marginBottom: \"1rem\"\r\n            }}\r\n            >\r\n                <i className=\"money bill alternate icon\"></i>\r\n                <span>\r\n                    {retailPrice\r\n                        ? retailPrice.currencyCode + \" \" + retailPrice.amount \r\n                        : saleability\r\n                        }\r\n                </span>\r\n            </div>\r\n        )\r\n}\r\n\r\n//     Cookie “G_ENABLED_IDPS” will be soon rejected because it has the “SameSite” attribute set to “None” or an invalid value, without the “secure” attribute. To know more about the “SameSite“ attribute, read https://developer.mozilla.org/docs/Web/HTTP/Headers/Set-Cookie/SameSite cb=gapi.loaded_0:274:21\r\n// Content Security Policy: Ignoring “'unsafe-inline'” within script-src: ‘strict-dynamic’ specified\r\n// Content Security Policy: Ignoring “https:” within script-src: ‘strict-dynamic’ specified\r\n// Content Security Policy: Ignoring “http:” within script-src: ‘strict-dynamic’ specified\r\n// Content Security Policy: Ignoring “'unsafe-inline'” within script-src: ‘strict-dynamic’ specified\r\n// Content Security Policy: Ignoring “https:” within script-src: ‘strict-dynamic’ specified\r\n// Content Security Policy: Ignoring “http:” within script-src: ‘strict-dynamic’ specified\r\n// Some cookies are misusing the recommended “SameSite“ attribute\r\n\r\n    render(){\r\n        const volumeId = `/${this.props.bookInfo.id}`;\r\n\r\n        const link = window.location.pathname === '/'\r\n        ? volumeId\r\n        : window.location.pathname + volumeId;\r\n        //console.log(link);\r\n\r\n        const { volumeInfo, saleInfo } = this.props.bookInfo;\r\n        //console.log(volumeInfo, this.props.bookInfo)\r\n        if(volumeInfo) {\r\n        return (\r\n            <div className=\"card\">\r\n                <div \r\n                    className=\"image\"\r\n                >\r\n                    <img \r\n                        ref={this.imgRef}\r\n                        src={volumeInfo.imageLinks \r\n                            ? volumeInfo.imageLinks.thumbnail\r\n                            : '/img/square-image.png'\r\n                        }\r\n                        alt={volumeInfo.title}\r\n                        style={{\r\n                            height: `${this.state.imgHeight}px`\r\n                        }}\r\n                        />\r\n                </div>\r\n                <div \r\n                    className=\"content\"\r\n                    style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\"\r\n                    }}\r\n                >\r\n                    <div \r\n                        ref={this.headerRef}\r\n                        className=\"header\"\r\n                        id=\"card-header\"\r\n                        style={{\r\n                            height: `${this.state.headerHeight}px`\r\n                        }}\r\n                        >\r\n                        {volumeInfo.title}\r\n                    </div>\r\n\r\n                    {this.renderAuthors(volumeInfo)}\r\n                    <br></br>\r\n                    {this.renderRetailprice(saleInfo)}\r\n            \r\n                </div>\r\n                <Link \r\n                    to={link}\r\n                    className=\"ui bottom attached button primary\"\r\n                >\r\n                    See details\r\n                </Link>\r\n            </div>\r\n        )\r\n                    }\r\n        return(\r\n            <div>\r\n                cant render this volume\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default BookItem;","import React, { Component } from 'react';\r\nimport BookItem from './BookItem';\r\n\r\nclass BookShowcase extends Component {\r\n    state = { \r\n        cardNum: null,};\r\n\r\n    componentDidMount() {\r\n        console.log(this.updateCardNum())\r\n        window.addEventListener('resize', this.updateCardNum);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateCardNum);\r\n    }\r\n\r\n    updateCardNum = () => {\r\n        let cardNum = 'two';\r\n        const { innerWidth } = window;\r\n        if (innerWidth > 700 && innerWidth < 1000 ) {\r\n            cardNum = \"three\";\r\n        } else if (innerWidth >= 1000) {\r\n            cardNum = \"five\";\r\n        } else if (innerWidth < 450) {\r\n            cardNum = \"one\";\r\n        } \r\n        this.setState({ cardNum: cardNum});\r\n      }\r\n    \r\n    renderResult = books => {\r\n        if(books) {\r\n            const result = books.length === 0 \r\n            ? 'no books found'\r\n            : books.length + 'items found ';\r\n\r\n            return ( \r\n            <h2 className=\"label\">\r\n                {result}\r\n            </h2>)\r\n        }\r\n        \r\n        return(\r\n            <h2 className=\"label\">\r\n                Loading...\r\n            </h2>\r\n            );\r\n    }\r\n\r\n    renderBookRows = books => {  \r\n        if(books) {\r\n            if(books.length > 1) {\r\n                return books.map(book => {\r\n                    return(\r\n                        <BookItem \r\n                            key={book.id}\r\n                            bookInfo={book}\r\n                        />\r\n                    );\r\n                });\r\n            } else if(books.length === 1) {\r\n                return(\r\n                    <BookItem \r\n                        key={books[0].id}\r\n                        bookInfo={books[0]}\r\n                    />\r\n                );\r\n            } \r\n        }\r\n    }\r\n\r\n    render(){\r\n        const { books } = this.props;\r\n        return (\r\n            <div className=\"ui container\" id=\"mt-2\">\r\n                {this.renderResult(books)}    \r\n                <div className={`ui ${this.state.cardNum} cards`}>\r\n                    {this.renderBookRows(books)}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default BookShowcase;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport SearchBar from './SearchBar';\r\nimport BookShowcase from './BookShowcase';\r\nimport { fetchBooks } from '../../actions/index';\r\n\r\nclass BookFinder extends Component {\r\n    render() {\r\n        const initialValues = {term: \"apple\"};\r\n    return (\r\n        <div>\r\n            {/* <div className=\"ui container\">\r\n            </div> */}\r\n            <SearchBar initialValues={initialValues}/>\r\n            {this.props.books &&\r\n                <BookShowcase books={Object.values(this.props.books)} pathname={this.props.match.url}/>\r\n            }\r\n        </div>\r\n    )\r\n    }\r\n};\r\nconst mapStateToProps = state => {\r\n    return {books : state.books};\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchBooks\r\n})(BookFinder);\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport BookShowcase from '../finder/BookShowcase';\r\nimport { fetchSavedBooks } from '../../actions/index';\r\n\r\nclass Bookshelf extends Component {\r\n    componentDidMount() {\r\n        this.props.fetchSavedBooks();\r\n    }\r\n    \r\n    render() {\r\n        //console.log(this.props.books);\r\n        return(\r\n            <div>\r\n                <div className=\"ui container\">\r\n                    <h1> Shelf </h1>\r\n                </div>\r\n                {this.props.books &&\r\n                    <BookShowcase books={Object.values(this.props.books)} pathname={this.props.match.url} />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {books : state.bookshelf};\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchSavedBooks\r\n})(Bookshelf);","import { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\n//can I make this below one line dynamic so that I can pass a prop in place pf '#modal'\r\nconst rootDiv = document.querySelector('#modal');\r\nclass Modal extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.ourModalDiv = document.createElement('div');\r\n    }\r\n\r\n   componentDidMount(){\r\n       rootDiv.appendChild(this.ourModalDiv);\r\n   }\r\n\r\n   componentWillUnmount(){\r\n       rootDiv.removeChild(this.ourModalDiv);\r\n   }\r\n\r\n    render(){\r\n        return ReactDOM.createPortal(\r\n            <div \r\n                onClick={this.props.onClick}\r\n                className=\"ui dimmer modals visible active\"\r\n                id=\"modal-background\"\r\n                >\r\n                \r\n                <div \r\n                    onClick={(e)=> e.stopPropagation()}\r\n                    className=\"ui modal visible active\"\r\n                    id=\"modal-wrapper\"\r\n                    >\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n            ,this.ourModalDiv\r\n        );\r\n    }\r\n};\r\n\r\nexport default Modal;\r\n\r\n/*constructor(props){\r\n         super(props);\r\n         this.ourModalDiv = document.createElement('div');\r\n     }\r\n\r\n    componentDidMount(){\r\n        rootDiv.appendChild(this.ourModalDiv);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        rootDiv.removeChild(this.ourModalDiv);\r\n    } */","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '../Modal';\r\n\r\n\r\nclass BookModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.descRef = React.createRef();\r\n        this.state = ({clampNum: 0});\r\n    }\r\n    componentDidMount() {\r\n        console.log(this.descRef.current);\r\n        this.setClampNum(this.descRef.current);\r\n        //this.descRef.current.addEventListener('load', this.sayYes)\r\n    }\r\n\r\n    setClampNum = ref => {\r\n        console.log(ref.clientHeight);\r\n        // this.setState({clampNum: });\r\n    }\r\n\r\n    renderRetailprice = ({retailPrice, saleability}) => {\r\n        return(\r\n            <div className=\"description\" id=\"retail-price\">\r\n                <i className=\"money bill alternate icon\"></i>\r\n                <span>\r\n                    {retailPrice\r\n                        ? retailPrice.currencyCode + \" \" + retailPrice.amount \r\n                        : saleability\r\n                        }\r\n                </span>\r\n            </div>\r\n        )\r\n}\r\n\r\n    renderAdmin = () => {\r\n        const { auth, book, onClick, isSavable } = this.props;\r\n        if(auth.isSignedIn && isSavable) {\r\n            return(\r\n                <button\r\n                    onClick={() => onClick(book, auth.userId)} \r\n                    className=\"ui negative button\">\r\n                    Save to Bookshelf\r\n                </button>\r\n            )\r\n\r\n        } else if( window.location.pathname.includes('bookshelf') ) {\r\n            return(\r\n                <button\r\n                    onClick={() => onClick(book.id, auth.userId)} \r\n                    className=\"ui negative button\">\r\n                    Delete from Bookshelf\r\n                </button>\r\n            )\r\n        } return null;\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state);\r\n        const { volumeInfo } = this.props.book\r\n        if(this.props.book) {\r\n            return(\r\n                <>\r\n                    <Modal>\r\n                        <div className=\"header\">\r\n                            {volumeInfo.title}\r\n                        </div>\r\n                            <div \r\n                            className = \"ui container\"\r\n                            id=\"modal-container\"\r\n                            >\r\n\r\n                                    <div className=\"image\" id=\"modal-image\">\r\n                                        <img \r\n                                            className=\"big-thumbnail\"\r\n                                            src={volumeInfo.imageLinks \r\n                                                ? volumeInfo.imageLinks.thumbnail\r\n                                                : '/img/square-image.png'\r\n                                            }\r\n                                            alt={volumeInfo.title}\r\n                                            />\r\n                                    </div>\r\n\r\n                                    <div className=\"content\" id=\"modal-content\">\r\n                                        <p className=\"description\" id=\"modal-description\">\r\n                                            <i className=\"file alternate icon\"></i>\r\n                                            {volumeInfo.description \r\n                                            ? volumeInfo.description \r\n                                            : 'N/A'}\r\n                                        </p>\r\n\r\n                                        <div \r\n                                            className=\"description\" id=\"authors\"\r\n                                            ref={this.descRef}>\r\n                                            <i className=\"users icon\"></i>\r\n                                                <span>{\r\n                                                    volumeInfo.authors \r\n                                                    ? volumeInfo.authors \r\n                                                    : 'N/A'\r\n                                                }</span>\r\n                                        </div>\r\n                                    </div>\r\n                            </div>\r\n                        \r\n                        <div className=\"actions\" id=\"modal-actions\">\r\n\r\n                            <a className=\"ui primary button\" \r\n                            href={volumeInfo.previewLink} \r\n                            >\r\n                                preview on GoogleBooks\r\n                            </a>\r\n                            {this.renderAdmin()}\r\n\r\n                            <Link\r\n                                to={this.props.match.url.replace(`/${this.props.match.params.volumeId}`, '')}\r\n                                className=\"ui button\">\r\n                                Go Back\r\n                            </Link>\r\n                        </div>\r\n                    </Modal>\r\n                </>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default BookModal;","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { fetchBook, fetchSavedBooks, saveBook } from '../../actions';\r\nimport BookModal from '../BookModal';\r\n\r\nclass BookSave extends Component {\r\n    componentDidMount() {\r\n        const { match, fetchBook} = this.props;\r\n        fetchBook(match.params.volumeId);\r\n        this.props.fetchSavedBooks();\r\n    }\r\n\r\n    onClick = (book, userId) => {\r\n        if(this.props.bookToCheck) {\r\n            alert('this books is already in your bookshelf!')\r\n        } else {\r\n            this.props.saveBook(book, userId);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { book, auth, match } =this.props;\r\n        const isSavable = this.props.bookToCheck\r\n        ? false : true;\r\n        return (\r\n            <>\r\n                {book && \r\n                    <BookModal onClick={this.onClick} book={book} auth={auth} match={match} isSavable={isSavable} />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        book: state.book,\r\n        bookToCheck: state.bookshelf && state.bookshelf[ownProps.match.params.volumeId],\r\n        auth: state.auth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{\r\n    fetchBook, fetchSavedBooks, saveBook\r\n})(BookSave);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deleteSavedBook, fetchSavedBook } from '../../actions';\r\nimport BookModal from '../BookModal';\r\n\r\n\r\nclass BookShelfDelete extends Component {\r\n    componentDidMount() {\r\n        const { match, fetchSavedBook, auth} = this.props;\r\n        fetchSavedBook(match.params.volumeId, auth.userId);\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props)\r\n        const { book, auth, match } =this.props;\r\n        return (\r\n            <>\r\n                {book &&\r\n                    <BookModal onClick={this.props.deleteSavedBook} book={book} auth={auth} match={match} />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        book: state.savedBook,\r\n        auth: state.auth,\r\n        currentPath: state.path\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{\r\n    fetchSavedBook, deleteSavedBook\r\n})(BookShelfDelete);","import React, { Component } from 'react';\r\nimport { Route, Router } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Navigation from './Navigation';\r\nimport BookFinder from './finder/BookFinder';\r\nimport Bookshelf from './shelf/Bookshelf';\r\nimport './App.css';\r\n\r\nimport BookSave from './finder/BookSave';\r\nimport BookshelfDelete from './shelf/BookshelfDelete';\r\nimport history from './history';\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n\r\n    render() {\r\n    return (\r\n        <div>\r\n            <Router history={history} >\r\n                <Navigation key={window.location.pathname} />\r\n                <Route exact path=\"/\" component={BookFinder} />\r\n                <Route exact path=\"/:volumeId\" component={BookSave} />\r\n\r\n                <Route exact path=\"/bookshelf/:userId\" component={Bookshelf} />\r\n                <Route exact path=\"/bookshelf/:userId/:volumeId\" component={BookshelfDelete} />\r\n\r\n            </Router>\r\n        </div>\r\n    )\r\n    }\r\n};\r\n\r\nexport default connect(null,\r\n    )(App);","import {SIGN_IN, SIGN_OUT} from '../actions/actionTypes';\r\n\r\nconst INITIAL_STATE = {\r\n    isSignedIn: null,\r\n    userId: null\r\n};\r\n\r\nexport const oAuthReducer = (state=INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case SIGN_IN:\r\n            return  { \r\n                ...state, \r\n                isSignedIn: true, \r\n                userId: action.payload \r\n            }\r\n        case SIGN_OUT:\r\n            return { \r\n                ...state, \r\n                isSignedIn: false, \r\n                userId: null \r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {LANG_SELECTED, FILTER_SELECTED, PRINTTYPE_SELECTED, ORDER_SELECTED, MAX_RESULT_NUM_SELECTED} from '../actions/actionTypes';\r\nimport { FILTER, LANGUAGE, MAX_RESULT_NUM, ORDER, PRINTTYPE } from './reducerTypes';\r\n\r\n\r\nexport const optionsReducer = () => {\r\n    return {\r\n        languages: [\r\n            {\r\n                label: \"English\" ,\r\n                value: \"en\"\r\n            },\r\n            {\r\n                label: \"Japanese\" ,\r\n                value: \"ja\"\r\n            },\r\n            {\r\n                label: \"French\" ,\r\n                value: \"fr\"\r\n            },\r\n            {\r\n                label: \"Chinese\" ,\r\n                value: \"ch\"\r\n            },\r\n            {\r\n                label: \"Spanish\" ,\r\n                value: \"sp\"\r\n            },\r\n            {\r\n                label: \"Arabic\" ,\r\n                value: \"ar\"\r\n            }\r\n        ],\r\n        filters: [\r\n            {\r\n                label: \"All e-books\" ,\r\n                value: \"ebooks\"\r\n            },\r\n            {\r\n                label: \"Free books\" ,\r\n                value: \"free-ebooks\"\r\n            },\r\n            {\r\n                label: \"Paid books\" ,\r\n                value: \"paid-ebooks\"\r\n            },\r\n        \r\n        ],\r\n        printTypes:   [\r\n            {\r\n                label: \"All\" ,\r\n                value: \"all\"\r\n            },\r\n            {\r\n                label: \"Books\" ,\r\n                value: \"books\"\r\n            },\r\n            {\r\n                label: \"Magazines\" ,\r\n                value: \"magazines\"\r\n            },\r\n        \r\n        ],\r\n        orders: [\r\n            {\r\n                label: 'Most Relevant',\r\n                value: 'relevance'\r\n            },\r\n            {\r\n                label: 'Newest',\r\n                value: 'newest'\r\n            }\r\n        ],\r\n        maxResultNums: [\r\n            {\r\n                label: '10',\r\n                value: 10\r\n            },\r\n            {\r\n                label: '20',\r\n                value: 20\r\n            },\r\n            {\r\n                label: '30',\r\n                value: 30\r\n            },\r\n            {\r\n                label: '40',\r\n                value: 40\r\n            }\r\n        ]\r\n    };\r\n};\r\n\r\nconst {languages, filters, printTypes, orders, maxResultNums} = optionsReducer();\r\nconst INITIAL_SELECTIONS = {\r\n[ORDER]:orders[0], [MAX_RESULT_NUM]:maxResultNums[0], [LANGUAGE]:languages[0], [FILTER]:filters[0], [PRINTTYPE]:printTypes[0] \r\n};\r\nexport const selectionReducer = ( state=INITIAL_SELECTIONS, action) => {\r\n    //console.log(state, action.payload)\r\n    switch(action.type) {\r\n        case LANG_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        case FILTER_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        case PRINTTYPE_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        case ORDER_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        case MAX_RESULT_NUM_SELECTED:\r\n            return { ...state, ...action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n// export const selectedLanguageReducer = (state=optionsReducer().languages[0], action) => {\r\n//     switch(action.type) {\r\n//         case LANG_SELECTED:\r\n//             return action.payload;\r\n//         default: \r\n//             return state;\r\n//     }\r\n// }\r\n\r\n// export const selectedFilterReducer = (state=optionsReducer().filters[0], action) => {\r\n//     switch(action.type) {\r\n//         case FILTER_SELECTED:\r\n//             return action.payload;\r\n//         default: \r\n//             return state;\r\n//     }\r\n// }\r\n\r\n// export const selectedPrintTypeReducer = (state=optionsReducer().printTypes[0], action) => {\r\n//     switch(action.type) {\r\n//         case PRINTTYPE_SELECTED:\r\n//             return action.payload;\r\n//         default: \r\n//             return state;\r\n//     }\r\n// }\r\n\r\n// export const selectedOrderReducer = (state=optionsReducer().orders[0], action) => {\r\n//     switch(action.type) {\r\n//         case ORDER_SELECTED:\r\n//             return action.payload;\r\n//         default:\r\n//             return state;\r\n//     };\r\n// };\r\n\r\n// export const selectedMaxResultNum = (state=optionsReducer().maxResultNums[0], action) => {\r\n//     switch(action.type) {\r\n//         case MAX_RESULT_NUM_SELECTED:\r\n//             return action.payload;\r\n//         default:\r\n//             return state;\r\n//     };\r\n// }","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nimport { oAuthReducer } from './oAuthReducers';\r\nimport { booksReducer, bookReducer } from './booksReducer';\r\nimport { bookshelfReducer, savedBookReducer } from './bookshelfReducer';\r\nimport { pathReducer } from './pathReducer';\r\nimport { heightReducer } from './styleReducers';\r\nimport { \r\n    optionsReducer,\r\n    selectionReducer\r\n} from './filtersReducer';\r\n \r\nexport const reducers = combineReducers({\r\n    options: optionsReducer,\r\n    selections: selectionReducer,\r\n\r\n    form: formReducer, \r\n\r\n    books: booksReducer,\r\n    book: bookReducer,\r\n    \r\n    bookshelf: bookshelfReducer,\r\n    savedBook: savedBookReducer,\r\n    \r\n    path: pathReducer,\r\n\r\n    height: heightReducer,\r\n    auth: oAuthReducer\r\n});","import _ from 'lodash';\r\nimport { FETCH_BOOKS, FETCH_BOOK, CLEAR_BOOKS } from '../actions/actionTypes';\r\n\r\nexport const booksReducer = (state=null, action) => {\r\n    switch (action.type) {\r\n        case FETCH_BOOKS : \r\n           return { ...state, ..._.mapKeys(action.payload, 'id') };\r\n        case CLEAR_BOOKS :\r\n           return state = null;\r\n        default :\r\n            return state;\r\n   }\r\n}\r\n//for a single fetch\r\nexport const bookReducer = (state=null, action) => {\r\n   switch (action.type) {\r\n      case FETCH_BOOK :\r\n         // return action.payload;\r\n         return action.payload;\r\n      default :\r\n         return state;\r\n   }\r\n}","import _ from 'lodash';\r\nimport { FETCH_SAVED_BOOKS, FETCH_SAVED_BOOK, SAVE_BOOK, DELETE_SAVED_BOOK } from '../actions/actionTypes';\r\n\r\nexport const bookshelfReducer = (state=null, action) => {\r\n    switch(action.type) {\r\n        case FETCH_SAVED_BOOKS :\r\n            //both of the solutions below work just fine...\r\n            // return {...state, ..._.mapKeys(action.payload, 'id')};\r\n            //compare the current state bookshelf and the new incoming bookshelf?\r\n            return _.mapKeys(action.payload, 'id');\r\n            //merely converts the array to an object with a unique id assigned to each item when the bookshelf is pulled out for rendering\r\n        case SAVE_BOOK :\r\n            return { ...state, [action.payload.id]:action.payload };\r\n            // since the POST req, the state obj doesn't have to spread out\r\n            // but the new coming object needs to have an id key like the boave either by ..._.mapKeys(action.payload, 'id') or the above\r\n        case DELETE_SAVED_BOOK :\r\n            return _.omit(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const savedBookReducer = (state=null, action) => {\r\n    switch (action.type) {\r\n        case FETCH_SAVED_BOOK :\r\n            // return action.payload;\r\n           return state = action.payload;\r\n        default :\r\n           return state;\r\n     }\r\n}","import { GET_PATH } from '../actions/actionTypes';\r\n\r\nexport const pathReducer = (state=\"/\", action) => {\r\n    if(action.type === GET_PATH) {\r\n        return action.payload;\r\n    } \r\n    return state;\r\n}","import {GET_HEIGHT} from '../actions/actionTypes';\r\n\r\nexport const heightReducer = (state={}, action) => {\r\n    if(action.type === GET_HEIGHT) {\r\n        console.log(action.payload);\r\n        return action.payload;\r\n    } \r\n    return state;\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n// import { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport App from './components/App';\r\nimport { reducers } from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    reducers, \r\n    composeEnhancers(applyMiddleware(thunk))\r\n    );\r\n\r\nReactDOM.render(\r\n    <Provider store={store}> <App /> </Provider>,\r\n    document.querySelector('#root')\r\n);"],"sourceRoot":""}